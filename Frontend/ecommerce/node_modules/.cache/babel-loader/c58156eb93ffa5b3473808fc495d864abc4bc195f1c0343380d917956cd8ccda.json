{"ast":null,"code":"import axios from \"axios\";\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../constants/cartConstants\";\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.get(`/api/product/${id}`);\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        product: data._id,\n        productname: data.productname,\n        // Ensure this matches your API response\n        image: data.image,\n        price: data.price,\n        stockcount: data.Stockcount,\n        // Ensure this matches your API response\n        qty\n      }\n    });\n    localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\n  } catch (error) {\n    console.error(\"There was an error adding the item to the cart:\", error);\n  }\n};\nexport const removeFromCart = id => (dispatch, getState) => {\n  try {\n    dispatch({\n      type: CART_REMOVE_ITEM,\n      payload: id\n    });\n    localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\n  } catch (error) {\n    console.error(\"There was an error removing the item from the cart:\", error);\n  }\n};","map":{"version":3,"names":["axios","CART_ADD_ITEM","CART_REMOVE_ITEM","addToCart","id","qty","dispatch","getState","data","get","type","payload","product","_id","productname","image","price","stockcount","Stockcount","localStorage","setItem","JSON","stringify","cart","cartItems","error","console","removeFromCart"],"sources":["D:/Vehicle Management System/Frontend/ecommerce/src/actions/cartActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../constants/cartConstants\";\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/product/${id}`);\r\n\r\n    dispatch({\r\n      type: CART_ADD_ITEM,\r\n      payload: {\r\n        product: data._id,\r\n        productname: data.productname,  // Ensure this matches your API response\r\n        image: data.image,\r\n        price: data.price,\r\n        stockcount: data.Stockcount,    // Ensure this matches your API response\r\n        qty,\r\n      },\r\n    });\r\n\r\n    localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\r\n  } catch (error) {\r\n    console.error(\"There was an error adding the item to the cart:\", error);\r\n  }\r\n};\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: CART_REMOVE_ITEM,\r\n      payload: id,\r\n    });\r\n\r\n    localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\r\n  } catch (error) {\r\n    console.error(\"There was an error removing the item from the cart:\", error);\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,4BAA4B;AAE5E,OAAO,MAAMC,SAAS,GAAGA,CAACC,EAAE,EAAEC,GAAG,KAAK,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAClE,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAE,gBAAeL,EAAG,EAAC,CAAC;IAEtDE,QAAQ,CAAC;MACPI,IAAI,EAAET,aAAa;MACnBU,OAAO,EAAE;QACPC,OAAO,EAAEJ,IAAI,CAACK,GAAG;QACjBC,WAAW,EAAEN,IAAI,CAACM,WAAW;QAAG;QAChCC,KAAK,EAAEP,IAAI,CAACO,KAAK;QACjBC,KAAK,EAAER,IAAI,CAACQ,KAAK;QACjBC,UAAU,EAAET,IAAI,CAACU,UAAU;QAAK;QAChCb;MACF;IACF,CAAC,CAAC;IAEFc,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACf,QAAQ,CAAC,CAAC,CAACgB,IAAI,CAACC,SAAS,CAAC,CAAC;EAC9E,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iDAAiD,EAAEA,KAAK,CAAC;EACzE;AACF,CAAC;AAED,OAAO,MAAME,cAAc,GAAIvB,EAAE,IAAK,CAACE,QAAQ,EAAEC,QAAQ,KAAK;EAC5D,IAAI;IACFD,QAAQ,CAAC;MACPI,IAAI,EAAER,gBAAgB;MACtBS,OAAO,EAAEP;IACX,CAAC,CAAC;IAEFe,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACf,QAAQ,CAAC,CAAC,CAACgB,IAAI,CAACC,SAAS,CAAC,CAAC;EAC9E,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,qDAAqD,EAAEA,KAAK,CAAC;EAC7E;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}