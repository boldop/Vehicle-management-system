{"ast":null,"code":"import axios from \"axios\";\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../constants/cartConstants\";\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.get(`/api/product/${id}`);\n    const item = {\n      product: data.id,\n      productname: data.productname,\n      image: data.image,\n      price: data.price,\n      Stockcount: data.Stockcount,\n      qty\n    };\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: item\n    });\n\n    // Ensure cartItems are updated correctly in local storage\n    const updatedCartItems = getState().cart.cartItems;\n    console.log('Updated Cart Items:', updatedCartItems);\n    localStorage.setItem(\"cartItems\", JSON.stringify(updatedCartItems));\n  } catch (error) {\n    console.error(\"There was an error adding the item to the cart:\", error);\n  }\n};\nexport const removeFromCart = id => (dispatch, getState) => {\n  try {\n    dispatch({\n      type: CART_REMOVE_ITEM,\n      payload: id\n    });\n\n    // Ensure cartItems are updated correctly in local storage\n    const updatedCartItems = getState().cart.cartItems;\n    console.log('Updated Cart Items After Removal:', updatedCartItems);\n    localStorage.setItem(\"cartItems\", JSON.stringify(updatedCartItems));\n  } catch (error) {\n    console.error(\"There was an error removing the item from the cart:\", error);\n  }\n};","map":{"version":3,"names":["axios","CART_ADD_ITEM","CART_REMOVE_ITEM","addToCart","id","qty","dispatch","getState","data","get","item","product","productname","image","price","Stockcount","type","payload","updatedCartItems","cart","cartItems","console","log","localStorage","setItem","JSON","stringify","error","removeFromCart"],"sources":["D:/Vehicle Management System/Frontend/ecommerce/src/actions/cartActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../constants/cartConstants\";\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/product/${id}`);\r\n\r\n    const item = {\r\n      product: data.id,\r\n      productname: data.productname,\r\n      image: data.image,\r\n      price: data.price,\r\n      Stockcount: data.Stockcount,\r\n      qty,\r\n    };\r\n\r\n    dispatch({\r\n      type: CART_ADD_ITEM,\r\n      payload: item,\r\n    });\r\n\r\n    // Ensure cartItems are updated correctly in local storage\r\n    const updatedCartItems = getState().cart.cartItems;\r\n    console.log('Updated Cart Items:', updatedCartItems);\r\n\r\n    localStorage.setItem(\"cartItems\", JSON.stringify(updatedCartItems));\r\n  } catch (error) {\r\n    console.error(\"There was an error adding the item to the cart:\", error);\r\n  }\r\n};\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: CART_REMOVE_ITEM,\r\n      payload: id,\r\n    });\r\n\r\n    // Ensure cartItems are updated correctly in local storage\r\n    const updatedCartItems = getState().cart.cartItems;\r\n    console.log('Updated Cart Items After Removal:', updatedCartItems);\r\n\r\n    localStorage.setItem(\"cartItems\", JSON.stringify(updatedCartItems));\r\n  } catch (error) {\r\n    console.error(\"There was an error removing the item from the cart:\", error);\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,4BAA4B;AAE5E,OAAO,MAAMC,SAAS,GAAGA,CAACC,EAAE,EAAEC,GAAG,KAAK,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAClE,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAE,gBAAeL,EAAG,EAAC,CAAC;IAEtD,MAAMM,IAAI,GAAG;MACXC,OAAO,EAAEH,IAAI,CAACJ,EAAE;MAChBQ,WAAW,EAAEJ,IAAI,CAACI,WAAW;MAC7BC,KAAK,EAAEL,IAAI,CAACK,KAAK;MACjBC,KAAK,EAAEN,IAAI,CAACM,KAAK;MACjBC,UAAU,EAAEP,IAAI,CAACO,UAAU;MAC3BV;IACF,CAAC;IAEDC,QAAQ,CAAC;MACPU,IAAI,EAAEf,aAAa;MACnBgB,OAAO,EAAEP;IACX,CAAC,CAAC;;IAEF;IACA,MAAMQ,gBAAgB,GAAGX,QAAQ,CAAC,CAAC,CAACY,IAAI,CAACC,SAAS;IAClDC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEJ,gBAAgB,CAAC;IAEpDK,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACR,gBAAgB,CAAC,CAAC;EACrE,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdN,OAAO,CAACM,KAAK,CAAC,iDAAiD,EAAEA,KAAK,CAAC;EACzE;AACF,CAAC;AAED,OAAO,MAAMC,cAAc,GAAIxB,EAAE,IAAK,CAACE,QAAQ,EAAEC,QAAQ,KAAK;EAC5D,IAAI;IACFD,QAAQ,CAAC;MACPU,IAAI,EAAEd,gBAAgB;MACtBe,OAAO,EAAEb;IACX,CAAC,CAAC;;IAEF;IACA,MAAMc,gBAAgB,GAAGX,QAAQ,CAAC,CAAC,CAACY,IAAI,CAACC,SAAS;IAClDC,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEJ,gBAAgB,CAAC;IAElEK,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACR,gBAAgB,CAAC,CAAC;EACrE,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdN,OAAO,CAACM,KAAK,CAAC,qDAAqD,EAAEA,KAAK,CAAC;EAC7E;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}